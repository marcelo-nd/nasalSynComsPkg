% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nasalPkgFunctions.R
\name{get_sample_info}
\alias{get_sample_info}
\title{Extract replicate-aware sample information from a data frame}
\usage{
get_sample_info(df, replicate_regex = "^[^_]+_\\\\d+$")
}
\arguments{
\item{df}{A data frame with replicate columns in its column names.}

\item{replicate_regex}{Character string. Regular expression used to identify
replicate columns. The default (\code{"^[^_]+_\\\\d+$"}) matches names with
a single underscore and a trailing integer (e.g., \code{"ABC_1"}). If your
naming includes additional underscores (e.g., \code{"Subject_A_1"}), provide
a different pattern.}
}
\value{
A list with:
\itemize{
\item \code{sample_cols}: character vector of replicate column names.
\item \code{base_names}: named character vector mapping each replicate
column to its base sample name (names are \code{sample_cols}).
\item \code{unique_samples}: character vector of unique base sample names.
}
}
\description{
Identifies columns that look like replicate measurements (e.g., \code{Sample_1},
\code{Sample_2}, ...) using a regular expression, then derives the base sample
name (prefix) for each replicate column and the set of unique base samples.
}
\details{
This is useful when your wide table stores technical/biological replicates as
separate columns that share a common prefix and differ only by a trailing
suffix after the final underscore.

Steps performed:
\itemize{
\item Find column names matching \code{replicate_regex}.
\item Strip the final underscore segment to define the base sample name
(e.g., \code{"Sample_2"} \eqn{\rightarrow} \code{"Sample"}).
\item Compute unique base sample names.
}
}
\examples{
\dontrun{
df <- data.frame(
  Met = c("M1","M2"),
  A_1 = c(1,2),
  A_2 = c(3,4),
  B_1 = c(5,6)
)
info <- get_sample_info(df)
info$sample_cols
info$base_names
info$unique_samples

# If sample names can contain underscores (e.g., "Subject_A_1"):
info2 <- get_sample_info(df, replicate_regex = "^.+_\\\\\d+$")
}

}
